/*! ImageFile 2014-02-06 */
"use strict";angular.module("ImageFile",["ImageFile.directives"]),angular.module("ImageFile.directives",[]).directive("appVersion",["version",function(a){return function(b,c){c.text(a)}}]).factory("ImageData",[function(){function a(a){var b=/^data:(image\/\w+);base64,/,c=String(a).match(b);if(!c)throw Error("Not an image");this.contentType=c[1],this.data=a.replace(b,"")}return a.prototype.toURI=function(){return"data:"+this.contentType+";base64,"+this.data},a}]).directive("imagefile",["ImageData",function(a){return{scope:{imagefile:"="},link:function(b,c){c.bind("change",function(d){var e=new FileReader;e.onload=function(d){try{var e=new a(d.target.result);b.$apply(function(){b.imagefile=e})}catch(f){c.val(null)}},e.readAsDataURL(d.target.files[0])})}}}]);